### 4.4. Use Cases (UC, 用例, UC, use cases)
**为AI代理编写Use Cases的说明**

#### 4.4.1. 内容
1. [Use Case模板](#use-case模板)
2. [质量指标](#质量指标)
3. [验证规则](#验证规则)
4. [Use Case示例](#use-case示例)
5. [质量标准](#质量标准)

---

#### 4.4.2. Use Case模板

##### 4.4.2.1. 强制结构 (9个元素):

| № | 元素 | 描述 | 示例 |
|---|---------|----------|---------|
| 1 | **名称** | 动词 + 名词 + 上下文 | "客户创建订单" |
| 2 | **User Story (US)** | "作为[角色]，我想要[功能]，以便[价值]" | US-1: 作为客户，我想要创建订单... |
| 3 | **参与者** | 主要参与者 + 次要参与者 | 客户、系统、CRM、邮件服务 |
| 4 | **前置条件** | 开始前必须完成什么 | 用户已授权 |
| 5 | **约束** | 系统/业务约束 | 每单最多10个商品 |
| 6 | **触发器** | 启动场景的事件 | 点击"下订单"按钮 |
| 7 | **主场景** | 理想路径 - 步骤序列 | 1. 用户选择商品... |
| 8 | **替代场景** | 主流程的分支 | 步骤3: 如果商品缺货... |
| 9 | **后置条件** | 场景执行结果 | 订单已创建并保存到数据库 |

---

#### 4.4.3. 质量指标

##### 4.4.3.1. 目标指标:
- **结构完整性**: 9/9 强制元素 = 100%
- **场景覆盖**: 主场景 + 最少2个替代 = 优秀质量
- **步骤细节**: 主场景5-15步 = 最优
- **架构关联性**: 100%参与者必须在系统架构中

##### 4.4.3.2. 评分系统:
- **优秀质量**: 90-100% 符合指标
- **良好质量**: 70-89% 符合指标
- **需要改进**: <70% 符合指标

---

#### 4.4.4. 验证规则

##### 4.4.4.1. 自动检查:

###### 4.4.4.1.1. 结构验证

✓ 所有9个强制元素存在
✓ 名称包含动作动词
✓ User Story符合"作为-我想要-以便"格式
✓ 至少指定1个主要参与者


###### 4.4.4.1.2. 逻辑验证

✓ 触发器与主场景逻辑相关
✓ 替代场景引用主场景步骤
✓ 后置条件可通过主场景实现
✓ 前置条件不违反业务逻辑


###### 4.4.4.1.3. 集成验证

✓ 参与者对应User Stories中的角色
✓ 系统组件存在于架构图中
✓ API方法在技术规范中指定


---

#### 4.4.5. Use Case示例

##### 4.4.5.1. 示例1: 快速反馈请求

| **元素** | **描述** |
|-------------|--------------|
| **名称** | UC-1. 通过反馈表单提交快速请求 |
| **User Story** | US-1: 作为系统用户，我想要快速提交请求以节省填写表单的时间 |
| **参与者** | • 主要: 系统用户<br>• 次要: Web界面、后端API、CRM系统 |
| **前置条件** | • 用户已授权<br>• 请求提交表单已打开<br>• 快速访问功能开关已启用 |
| **约束** | • 仅创建请求时可用抽屉<br>• 最多选择5个模板 |
| **触发器** | 用户点击表单中的快速访问元素 |
| **主场景** | 1. 用户打开请求提交表单<br>2. 系统显示带快速访问元素的表单<br>3. 用户点击快速访问元素<br>4. 系统打开带模板链接按钮的抽屉<br>5. 用户选择合适的模板<br>6. 系统重定向到预填表单<br>7. 用户补充缺失数据<br>8. 系统保存请求 |
| **替代场景** | **步骤3**: 如果是新用户 → 显示"支持"通知<br>**步骤4**: 加载模板时 → 显示加载器<br>**步骤5**: 4XX/5XX错误 → 消息"加载错误，请稍后重试"<br>**步骤6**: 通过"X"或外部点击关闭抽屉 → 返回主表单 |
| **后置条件** | • 请求已创建并保存到CRM<br>• 用户收到确认<br>• 发送功能使用指标 |

##### 4.4.5.2. 示例2: 用户注册

| **元素** | **描述** |
|-------------|--------------|
| **名称** | UC-2. 在系统中注册新用户 |
| **User Story** | US-2: 作为新用户，


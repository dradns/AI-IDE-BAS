### 4.3. User Stories (US, 用户故事)
**为AI代理编写User Stories的说明**

#### 4.3.1. 内容
1. [User Story结构](#user-story结构)
2. [质量指标](#质量指标)
3. [验证规则](#验证规则)
4. [按角色模板](#按角色模板)
5. [User Stories示例](#user-stories示例)
6. [质量检查清单](#质量检查清单)

---

#### 4.3.2. User Story结构

##### 4.3.2.1. 强制格式:

US-XXX: [功能简要名称]
作为<用户角色>,
我想要<期望的操作/功能>,
以便<预期结果/收益>.



---

#### 4.3.3. 质量指标

##### 4.3.3.1. 目标指标:
- **格式符合性**: 100%的"作为-我想要-以便"结构
- **关联性**: 100%的US必须与Use Case相关联

##### 4.3.3.2. 评分系统:
- **优秀质量**: ≥90%符合指标
- **良好质量**: 70-89%符合指标
- **需要改进**: <70%符合指标

---

#### 4.3.4. 验证规则

##### 4.3.4.1. 自动检查:

✓ 存在所有3部分: 角色 + 操作 + 结果
✓ 角色符合系统角色目录
✓ 操作表述为动词
✓ 结果包含可衡量的收益


---

#### 4.3.5. 按角色模板

##### 4.3.5.1. 业务角色:
- **Business Analyst**: 分析、文档编写、规划
- **Project Manager**: 管理任务
- **Product Owner**: 产品决策

##### 4.3.5.2. 技术角色:
- **System Architect**: 架构决策
- **Database Designer**: 数据建模
- **Developer**: 技术实现

##### 4.3.5.3. 通用模板:

US-XXX: [功能]
作为[目录中的角色],
我想要[具体的系统操作],
以便[业务收益或流程简化].



---

#### 4.3.6. User Stories示例

##### 4.3.6.1. 分析任务 - 利益相关者管理

US-001: 收集项目利益相关者列表
作为Business Analyst,
我想要一个现成的项目利益相关者列表,
以便快速了解参与者结构，不浪费时间手动收集。



##### 4.3.6.2. 技术任务 - 图表生成

US-005: 从数据模型生成ERD
作为Database Designer,
我想要从文本描述自动获取ERD图表,
以便无需手动绘制即可可视化结构。



##### 4.3.6.3. 架构任务

US-004: 从模板创建Use Case
作为System Architect,
我想要根据既定模板形成Use Case,
以便描述交互并将其集成到文档中。



---

#### 4.3.7. 质量检查清单

##### 4.3.7.1. 结构检查:
- [ ] ✅ 名称反映功能本质
- [ ] ✅ 用户角色来自系统目录
- [ ] ✅ 操作表述为具体动词
- [ ] ✅ 结果包含可衡量的收益


##### 4.3.7.2. 质量检查:
- [ ] 🎯 US与架构组件相关联
- [ ] 🎯 技术可行性已确认

##### 4.3.7.3. 集成检查:
- [ ] 🔗 角色与Use Case中的参与者对应
- [ ] 🔗 功能在架构中体现
- [ ] 🔗 数据符合ERD模型
- [ ] 🔗 API方法在技术规范中描述

**目标**: 创建无需额外澄清即可用于估算、规划和开发的User Stories。

---

#### 4.3.8. 风格建议

##### 4.3.8.1. 表述:
- **以动作开始**: "系统提供...", "能够添加..."
- **具体性**: 指明数字、格式、约束
- [ ] ✅ 一致性: 使用统一的风格和术语


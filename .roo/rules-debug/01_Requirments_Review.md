# Инструкция по проверке требований для Senior аналитика

- Пиши на русском языке

- Данный документ предназначен для проверки требований, сгенерированных ИИ-агентом, на соответствие лучшим практикам бизнес- и системного анализа. Используйте чек-листы и рекомендации ниже для оценки полноты, корректности и качества требований.

- Ты должен проверять требования из папки req_for_test

- Делай акцент на логичность функциональных и нефункциональных требований

- Отчет после проверки требования должен появится в папке reports (если ее нету, создать!), формат названия файла - {навзание требования которые ты проверял}_report.md

- Если нет макета или BPMN это не критично, так как мы используем формат .md, но все равно сообщи об этом

---

## Методология Senior аналитика

### Четыре столпа качественных требований:

#### 1. **Логическая целостность** 
Требования должны образовывать связную систему, где каждый элемент логически вытекает из предыдущих и поддерживает общую архитектуру решения.

#### 2. **Полнота**
Все аспекты решения должны быть покрыты требованиями: функциональные, нефункциональные, интеграционные, безопасности, производительности.

#### 3. **Непротиворечивость**
Требования не должны конфликтовать между собой на любом уровне: бизнес-логики, технической реализации, пользовательского опыта.

#### 4. **Однозначность**
Каждое требование должно иметь единственную интерпретацию и быть понятным всем заинтересованным сторонам.

---

## Процесс проверки Senior аналитика

### Этап 1: Структурный анализ пакета требований

**Цель**: Убедиться в наличии всех необходимых артефактов и их корректной структуре

**Артефакты для проверки**:
- [ ] User Stories (AS IS/TO BE) - см. `User_story_info.md`
- [ ] Use Cases - см. `Use_Case_Writing_Instructions.md` 
- [ ] Sequence диаграммы - см. `SEQ_Diagram_Instructions.md`
- [ ] Activity диаграммы - см. `Activity_Diagram_Instructions.md`
- [ ] ERD диаграммы - см. `ERD_PlantUML_Instruction.md`
- [ ] Component диаграммы - см. `Component_Diagram_PlantUML_Instructions.md`
- [ ] OpenAPI спецификации - см. `OpenAPI_Spec_Writing_Instructions.md`
- [ ] Критерии приемки и нефункциональные требования

### Этап 2: Проверка логической целостности

**2.1. Вертикальная трассировка**
- [ ] User Story → Use Case: каждая история покрыта детальными сценариями
- [ ] Use Case → Sequence диаграммы: каждый сценарий имеет техническую реализацию  
- [ ] Use Case → Activity диаграммы: бизнес-процессы соответствуют функциональности
- [ ] Sequence → Component диаграммы: взаимодействия соответствуют архитектуре
- [ ] Component → ERD: архитектура поддерживает модель данных
- [ ] ERD → OpenAPI: API соответствует структуре данных

**2.2. Горизонтальная согласованность**
- [ ] Одинаковые роли во всех User Stories и Use Cases
- [ ] Единая терминология в диаграммах и спецификациях
- [ ] Совместимость временных характеристик между артефактами
- [ ] Согласованность уровней детализации

**2.3. Логика бизнес-процессов**
- [ ] Причинно-следственные связи в Activity диаграммах
- [ ] Корректность условий ветвления и циклов
- [ ] Обработка исключительных ситуаций на всех уровнях
- [ ] Соответствие бизнес-правилам в технических решениях

### Этап 3: Проверка полноты (Completeness Analysis)

**3.1. Функциональная полнота**
- [ ] **CRUD операции**: Create, Read, Update, Delete для всех сущностей
- [ ] **Жизненный цикл**: все состояния и переходы бизнес-объектов
- [ ] **Интеграции**: все внешние системы и точки интеграции
- [ ] **Пользовательские роли**: все роли и их права доступа
- [ ] **Бизнес-процессы**: основные, альтернативные, исключительные сценарии

**3.2. Техническая полнота**
- [ ] **Архитектурные слои**: представления, логики, данных, интеграций
- [ ] **Компоненты безопасности**: аутентификация, авторизация, аудит
- [ ] **Обработка ошибок**: на всех уровнях архитектуры
- [ ] **Мониторинг и логирование**: для всех критических операций
- [ ] **Резервное копирование**: стратегии и процедуры

**3.3. Пользовательский опыт**
- [ ] **UI/UX**: все пользовательские интерфейсы
- [ ] **Валидация данных**: на клиенте и сервере
- [ ] **Уведомления**: все типы сообщений пользователю
- [ ] **Справочная система**: помощь и документация
- [ ] **Доступность**: требования для людей с ограниченными возможностями

### Этап 4: Проверка непротиворечивости (Consistency Analysis)

**4.1. Противоречия в данных**
- [ ] **Типы данных**: соответствие между ERD и API
- [ ] **Ограничения**: consistency между бизнес-правилами и БД
- [ ] **Форматы**: единообразие форматов дат, чисел, строк
- [ ] **Справочники**: согласованность reference data

**4.2. Противоречия в процессах**  
- [ ] **Последовательность**: Activity vs Sequence диаграммы
- [ ] **Роли и права**: User Stories vs Use Cases vs Component диаграммы
- [ ] **Временные ограничения**: таймауты и SLA в разных артефактах
- [ ] **Условия выполнения**: предусловия и постусловия

**4.3. Противоречия в архитектуре**
- [ ] **Направление вызовов**: Sequence vs Component диаграммы  
- [ ] **Протоколы**: соответствие между архитектурой и API
- [ ] **Безопасность**: единые механизмы во всех компонентах
- [ ] **Производительность**: согласованные требования по всей системе

### Этап 5: Проверка однозначности (Unambiguity Analysis)

**5.1. Терминологическая однозначность**
- [ ] **Глоссарий**: единое понимание терминов
- [ ] **Сокращения**: расшифровка всех аббревиатур
- [ ] **Синонимы**: исключение дублирующих терминов
- [ ] **Контекстность**: одинаковые термины в разных контекстах

**5.2. Функциональная однозначность**
- [ ] **Критерии приемки**: конкретные и измеримые
- [ ] **Действия пользователя**: четкие формулировки в Use Cases
- [ ] **Системное поведение**: детерминированные алгоритмы
- [ ] **Обработка исключений**: конкретные действия системы

**5.3. Техническая однозначность**
- [ ] **API спецификации**: точные типы данных и форматы
- [ ] **Диаграммы**: стандартные обозначения PlantUML
- [ ] **Конфигурация**: четкие параметры настройки
- [ ] **Интеграции**: точные протоколы и форматы обмена

---

## 1. Проверка бизнес-требований (детализированная)

### 1.1. User Story (AS IS и TO BE)
**Базируется на**: `User_story_info.md`

**Проверка логической целостности:**
- [ ] AS IS логически предшествует TO BE
- [ ] Роли соответствуют реальным участникам процесса
- [ ] Действия выполнимы в рамках предметной области
- [ ] Результаты достижимы и измеримы

**Проверка полноты:**
- [ ] Покрыты все типы пользователей
- [ ] Описаны все основные бизнес-функции
- [ ] Учтены интеграционные сценарии
- [ ] Включены административные функции

**Проверка непротиворечивости:**
- [ ] Роли не конфликтуют между историями
- [ ] Действия не противоречат бизнес-правилам
- [ ] Результаты согласованы между историями

**Проверка однозначности:**
- [ ] Роли четко определены
- [ ] Действия описаны конкретными глаголами
- [ ] Результаты количественно измеримы
- [ ] Использованы стандартные формулировки

### 1.2. Use Case
**Базируется на**: `Use_Case_Writing_Instructions.md`

**Структурная проверка:**
- [ ] Заголовок отражает бизнес-цель
- [ ] Акторы соответствуют User Stories
- [ ] Предварительные условия реалистичны
- [ ] Ограничения технически выполнимы
- [ ] Триггер конкретен и наблюдаем
- [ ] Основной сценарий логически последователен
- [ ] Альтернативные сценарии покрывают edge cases
- [ ] Исключительные сценарии включают error handling
- [ ] Критерии успеха измеримы

**Проверка логической целостности:**
- [ ] Шаги сценария логически связаны
- [ ] Альтернативные потоки корректно возвращаются к основному
- [ ] Исключения обрабатываются на подходящем уровне
- [ ] Постусловия достижимы из предусловий

**Проверка трассировки:**
- [ ] Каждый Use Case соответствует User Story
- [ ] Акторы согласованы с ролями в User Stories
- [ ] Функциональность покрывает потребности из TO BE

### 1.3. Activity диаграммы
**Базируется на**: `Activity_Diagram_Instructions.md`

**Проверка логической целостности:**
- [ ] Swimlanes соответствуют ролям из Use Case
- [ ] Последовательность действий логична
- [ ] Условия ветвления корректны
- [ ] Параллельные процессы независимы
- [ ] Все пути приводят к завершению

**Проверка полноты бизнес-процесса:**
- [ ] Покрыты все шаги из Use Case
- [ ] Включены процессы валидации
- [ ] Обработаны ошибочные ситуации
- [ ] Учтены процессы уведомлений
- [ ] Включены процессы аудита

---

## 2. Проверка системных требований (детализированная)

### 2.1. Архитектура и Component диаграммы
**Базируется на**: `Component_Diagram_PlantUML_Instructions.md`

**Проверка логической целостности:**
- [ ] Архитектурные слои четко разделены
- [ ] Зависимости направлены в одну сторону
- [ ] Интерфейсы согласованы между компонентами
- [ ] Нет циклических зависимостей

**Проверка полноты архитектуры:**
- [ ] Все функциональные требования покрыты компонентами
- [ ] Включены компоненты безопасности
- [ ] Присутствуют компоненты мониторинга
- [ ] Учтены компоненты интеграции
- [ ] Включены компоненты конфигурации

### 2.2. Модель данных и ERD
**Базируется на**: `ERD_PlantUML_Instruction.md`

**Проверка логической целостности:**
- [ ] Сущности соответствуют бизнес-объектам
- [ ] Связи отражают реальные отношения
- [ ] Кардинальность связей корректна
- [ ] Первичные ключи уникально идентифицируют записи
- [ ] Внешние ключи поддерживают целостность

**Проверка нормализации:**
- [ ] Первая нормальная форма (1NF): атомарность значений
- [ ] Вторая нормальная форма (2NF): зависимость от полного ключа
- [ ] Третья нормальная форма (3NF): отсутствие транзитивных зависимостей
- [ ] Обоснованность денормализации (если есть)

### 2.3. Sequence диаграммы
**Базируется на**: `SEQ_Diagram_Instructions.md`

**Проверка логической целостности:**
- [ ] Участники соответствуют компонентам архитектуры
- [ ] Последовательность вызовов логична
- [ ] Синхронные/асинхронные вызовы корректны
- [ ] Жизненные циклы объектов соблюдены
- [ ] Обработка ошибок присутствует

**Проверка трассировки:**
- [ ] Каждая диаграмма соответствует Use Case сценарию
- [ ] Участники соответствуют ролям в Activity диаграммах
- [ ] Взаимодействия реализуют бизнес-процессы

### 2.4. REST API и OpenAPI
**Базируется на**: `OpenAPI_Spec_Writing_Instructions.md`

**Проверка логической целостности:**
- [ ] Ресурсы соответствуют сущностям ERD
- [ ] HTTP методы семантически корректны
- [ ] URL структура иерархически логична
- [ ] Коды ответов соответствуют ситуациям
- [ ] Схемы данных согласованы с моделью

**Проверка полноты API:**
- [ ] CRUD операции для всех сущностей
- [ ] Операции поиска и фильтрации
- [ ] Batch операции для массовых действий
- [ ] Health check и мониторинг endpoints
- [ ] Административные операции

---

## 3. Критерии приёмки и нефункциональные требования (расширенные)

### 3.1. Критерии приёмки
**Проверка логической целостности:**
- [ ] Связь с конкретными User Stories
- [ ] Измеримость критериев
- [ ] Тестируемость критериев
- [ ] Независимость критериев друг от друга

**Проверка полноты:**
- [ ] Функциональные критерии для всех основных сценариев
- [ ] Производительностные критерии
- [ ] Критерии безопасности
- [ ] Критерии удобства использования
- [ ] Критерии совместимости

### 3.2. Нефункциональные требования

**3.2.1. Производительность**
- [ ] Время отклика для каждого типа операций
- [ ] Пропускная способность системы
- [ ] Ресурсопотребление (CPU, память, диск)
- [ ] Масштабируемость (вертикальная/горизонтальная)

**3.2.2. Безопасность**
- [ ] Аутентификация и авторизация
- [ ] Шифрование данных (в покое и в движении)
- [ ] Аудит и логирование
- [ ] Защита от уязвимостей (OWASP Top 10)

**3.2.3. Надежность**
- [ ] Доступность системы (SLA)
- [ ] Отказоустойчивость
- [ ] Время восстановления (RTO/RPO)
- [ ] Мониторинг и алертинг

---

## 4. Матрица трассировки требований

### 4.1. Вертикальная трассировка
| User Story | Use Case | Activity | Sequence | Component | ERD | API |
|------------|----------|----------|----------|-----------|-----|-----|
| US-001 | UC-001 | ACT-001 | SEQ-001 | COMP-001 | ENT-001 | API-001 |

**Проверка:**
- [ ] Каждая строка полностью заполнена
- [ ] Нет разрывов в цепочке трассировки  
- [ ] Изменения в одном артефакте отражены в связанных

### 4.2. Горизонтальная согласованность
**Роли и акторы:**
- [ ] User Stories ↔ Use Cases ↔ Activity ↔ Sequence
- [ ] Единая терминология ролей
- [ ] Согласованные права доступа

**Объекты данных:**
- [ ] Use Cases ↔ ERD ↔ API ↔ Component
- [ ] Единые названия сущностей
- [ ] Согласованные атрибуты

---

## 5. Продвинутые методы анализа

### 5.1. Gap Analysis (Анализ пробелов)
**Методика:**
1. Составить список всех бизнес-процессов верхнего уровня
2. Проверить покрытие каждого процесса в требованиях
3. Выявить отсутствующие элементы
4. Оценить критичность пробелов

**Шаблон отчета:**
```
Процесс: [Название]
Покрытие: [Полное/Частичное/Отсутствует]
Пробелы: [Список отсутствующих элементов]
Критичность: [Высокая/Средняя/Низкая]
Рекомендации: [Что добавить]
```

### 5.2. Impact Analysis (Анализ влияния)
**Методика:**
1. Для каждого требования определить зависимые элементы
2. Оценить влияние изменений
3. Выявить потенциальные конфликты
4. Приоритизировать критичные зависимости

### 5.3. Risk Analysis (Анализ рисков)
**Типы рисков в требованиях:**
- [ ] **Неопределенность**: нечеткие формулировки
- [ ] **Сложность**: чрезмерная техническая сложность
- [ ] **Зависимости**: критичные внешние зависимости
- [ ] **Производительность**: недостижимые SLA
- [ ] **Интеграция**: сложные интеграционные сценарии

---

## 6. Чек-лист финальной проверки Senior аналитика

### 6.1. Структурная целостность
- [ ] Все артефакты присутствуют согласно стандартам
- [ ] Артефакты соответствуют инструкциям из .clinerules
- [ ] Версионность и идентификация артефактов
- [ ] Связи между артефактами прослеживаются

### 6.2. Логическая целостность
- [ ] Вертикальная трассировка без разрывов
- [ ] Горизонтальная согласованность терминологии
- [ ] Причинно-следственные связи корректны
- [ ] Временная последовательность логична

### 6.3. Полнота покрытия  
- [ ] Все бизнес-процессы покрыты требованиями
- [ ] Все пользовательские роли учтены
- [ ] Все технические компоненты описаны
- [ ] Все интеграции специфицированы
- [ ] Все исключительные ситуации обработаны

### 6.4. Непротиворечивость
- [ ] Отсутствие конфликтов в бизнес-логике
- [ ] Техническая совместимость компонентов
- [ ] Согласованность производительностных требований
- [ ] Единство принципов безопасности

### 6.5. Однозначность
- [ ] Терминология определена в глоссарии
- [ ] Критерии приемки конкретны и измеримы
- [ ] Технические спецификации детальны
- [ ] Бизнес-правила формализованы

### 6.6. Качество документации
- [ ] Структурированность и навигация
- [ ] Актуальность версий
- [ ] Полнота примеров и диаграмм
- [ ] Соответствие корпоративным стандартам

---

## 7. Шаблон отчета Senior аналитика

```markdown
# Отчет о проверке требований: [Название проекта]

## Исполнительное резюме
- **Общая оценка**: [Принято/Принято с замечаниями/Отклонено]
- **Критичные проблемы**: [Количество]
- **Рекомендации**: [Основные действия]

## Детальный анализ

### 1. Логическая целостность: [Оценка/10]
- ✅ Пройдено: [Список]
- ❌ Проблемы: [Список с детализацией]
- 💡 Рекомендации: [Конкретные действия]

### 2. Полнота: [Оценка/10]
- ✅ Пройдено: [Список]
- ❌ Пробелы: [Список с критичностью]
- 💡 Рекомендации: [Что добавить]

### 3. Непротиворечивость: [Оценка/10]
- ✅ Пройдено: [Список]
- ❌ Конфликты: [Список с влиянием]
- 💡 Рекомендации: [Как разрешить]

### 4. Однозначность: [Оценка/10]
- ✅ Пройдено: [Список]
- ❌ Неопределенности: [Список с рисками]
- 💡 Рекомендации: [Как уточнить]

## Матрица трассировки
[Таблица связей между артефактами]

## Анализ рисков
| Риск | Вероятность | Влияние | Митигация |
|------|-------------|---------|-----------|

## Следующие шаги
1. [Приоритетные действия]
2. [Второстепенные улучшения]
3. [Долгосрочные рекомендации]

## Приложения
- Детальные замечания по артефактам
- Предлагаемые исправления
- Ссылки на стандарты и best practices
```

---

**Следуйте данной расширенной инструкции для системного и качественного ревью требований на уровне Senior аналитика, обеспечивая высочайшее качество архитектурных решений.**